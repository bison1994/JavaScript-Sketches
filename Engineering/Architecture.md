### 控制复杂度的基本方法

- 分治
    + 分层
        - 业务（MVVM：视图层、状态管理层）
        - 基建
    + 分模块

- 复用
    + 通用组件
    + 微服务
    + 封装 API
    + 抽象业务模型

- 模式
    + 编程模式（面向对象、函数式）
    + 设计模式

<br>

### 微前端 Microfrontend

应用规模增大（至少 3 层分类） => 平台化趋势（平台 + 子应用/微应用）=> 分布式体系 + 中心化治理

- 多团队
- 多技术栈

收益

- 工程价值（质量、效率）
- 产品价值（体验、平台化）

和 SPA 的区别

- SPA 是单体应用，微前端是多个独立应用，从开发到部署都是独立的
- SPA 通常是单一技术栈，微前端可以是多个技术栈

对架构设计的需求

- 主框架（基座、HostApp） + 子应用
- 独立接入（config entry）
- 独立开发
    + 单应用构建/多应用构建
    + 子应用与主框架联调
- 独立部署
    + 单应用部署/多应用部署
    + 部署策略（灰度、回滚、AB）
- 子应用技术栈独立（历史问题、框架升级、多框架并存）
- 公共资源复用/预加载
- 业务资源按需加载/预加载
- 应用隔离（js 隔离、css 隔离）
- 应用关系
    + 并行
    + 嵌套
        - 父子通信（消息机制）
- 路由管理
    + 路由映射
    + 切换/跳转
        - 权限
    + 生命周期
        - 初始化（读取配置、加载资源、异常处理）
        - mount
        - unmount
        - active/inactive
    + 历史栈
- 状态管理（全局状态、子应用状态）
- 仓库管理
- 监控
